-- 20S CS375 Software Engineering Projectg
-- cs375v1 tables
--
drop table if exists course;
create table course (
id int,
abbrev text,
title text,
primary key (id)
);

insert into course (id, abbrev, title) values
(1, 'CS374', 'Software Engineering I'),
(2, 'CS375', 'Software Engineering II'),
(3, 'CS356', 'Operating Systems'),
(4, 'CS115', 'S1'),
(5, 'CS116', 'S2'),
(6, 'CS120', 'P1'),
(7, 'CS130', 'P2'),
(8, 'CS230', 'OOP')
;


drop table if exists section;
create table section (
id int,
course_id int,
title text,
start date,
primary key (id)
);

insert into section (id, course_id, title, start) values
(1, 1, 'Fall 21','2021/09/01'),
(2, 1, 'Spring 22', '2022/01/01'),
(3, 2, 'Spring 21', '2021/02/01'),
(4, 2, 'Fall 21', '2021/09/01'),
(5, 3, 'Spring 21', '2021/01/01'),
(6, 4, 'Fall 21', '2021/09/01'),
(7, 5, 'Spring 22', '2022/01/01')
;


drop table if exists eval;
create table eval (
id int,
title text,
end_date date,
primary key( id )
);

insert into eval (id, title, end_date) values 
( 1,'Eval 1','2021/10/01' ),
( 2,'Eval 2','2021/11/01' ),
( 3,'Eval 3','2022/03/01' ),
( 4,'Eval 4','2021/03/01' ),
( 5,'Eval 5','2021/04/01' ),
( 6,'Eval 6','2021/10/01' ),
( 7,'Eval 7','2021/02/01' ),
( 8,'Eval 8','2021/10/01' ),
( 9,'Eval 9','2022/02/01' );


drop table if exists eval_section;
create table eval_section (
eval_id int,
section_id int,
primary key (eval_id, section_id)
);

insert into eval_section (eval_id, section_id) values
(1, 1),
(2, 1),
(3, 2),
(4, 3),
(5, 3),
(6, 4),
(7, 5),
(8, 6),
(9, 7);


drop table if exists team;
create table team (
eval_id int,
team_id int,
student_id int,
primary key (eval_id, team_id, student_id)
);



drop table if exists student;
create table student (
id int,
name text
);

-- insert into student (id, name) values 
-- ( 1, 'student_1'),
-- ( 2, 'student_2'),
-- ( 3, 'student_3'),
-- ( 4, 'student_4'),
-- ( 5, 'student_5'),
-- ( 6, 'student_6'),
-- ( 7, 'student_7'),
-- ( 8, 'student_8'),
-- ( 9, 'student_9'),
-- ( 10, 'student_10'),
-- ( 11, 'student_11'),
-- ( 12, 'student_12'),
-- ( 13, 'student_13'),
-- ( 14, 'student_14'),
-- ( 15, 'student_15'),
-- ( 16, 'student_16'),
-- ( 17, 'student_17'),
-- ( 18, 'student_18'),
-- ( 19, 'student_19'),
-- ( 20, 'student_20'),
-- ( 21, 'student_21'),
-- ( 22, 'student_22'),
-- ( 23, 'student_23'),
-- ( 24, 'student_24'),
-- ( 25, 'student_25'),
-- ( 26, 'student_26'),
-- ( 27, 'student_27'),
-- ( 28, 'student_28'),
-- ( 29, 'student_29'),
-- ( 30, 'student_30'),
-- ( 31, 'student_31'),
-- ( 32, 'student_32'),
-- ( 33, 'student_33'),
-- ( 34, 'student_34'),
-- ( 35, 'student_35'),
-- ( 36, 'student_36'),
-- ( 37, 'student_37'),
-- ( 38, 'student_38'),
-- ( 39, 'student_39'),
-- ( 40, 'student_40'),
-- ( 41, 'student_41'),
-- ( 42, 'student_42'),
-- ( 43, 'student_43'),
-- ( 44, 'student_44'),
-- ( 45, 'student_45'),
-- ( 46, 'student_46'),
-- ( 47, 'student_47'),
-- ( 48, 'student_48'),
-- ( 49, 'student_49'),
-- ( 50, 'student_50'),
-- ( 51, 'student_51'),
-- ( 52, 'student_52'),
-- ( 53, 'student_53'),
-- ( 54, 'student_54'),
-- ( 55, 'student_55'),
-- ( 56, 'student_56'),
-- ( 57, 'student_57'),
-- ( 58, 'student_58'),
-- ( 59, 'student_59'),
-- ( 60, 'student_60'),
-- ( 61, 'student_61'),
-- ( 62, 'student_62'),
-- ( 63, 'student_63'),
-- ( 64, 'student_64'),
-- ( 65, 'student_65'),
-- ( 66, 'student_66'),
-- ( 67, 'student_67'),
-- ( 68, 'student_68'),
-- ( 69, 'student_69'),
-- ( 70, 'student_70'),
-- ( 71, 'student_71'),
-- ( 72, 'student_72'),
-- ( 73, 'student_73'),
-- ( 74, 'student_74'),
-- ( 75, 'student_75'),
-- ( 76, 'student_76'),
-- ( 77, 'student_77'),
-- ( 78, 'student_78'),
-- ( 79, 'student_79'),
-- ( 80, 'student_80'),
-- ( 81, 'student_81'),
-- ( 82, 'student_82'),
-- ( 83, 'student_83'),
-- ( 84, 'student_84'),
-- ( 85, 'student_85'),
-- ( 86, 'student_86'),
-- ( 87, 'student_87'),
-- ( 88, 'student_88'),
-- ( 89, 'student_89'),
-- ( 90, 'student_90'),
-- ( 91, 'student_91'),
-- ( 92, 'student_92'),
-- ( 93, 'student_93'),
-- ( 94, 'student_94');



insert into team (eval_id, team_id, student_id) values
 (1,1,1),
 (1,1,2),
 (1,1,3),
 (1,2,4),
 (1,2,5),
 (1,2,6),
 (1,3,7),
 (1,3,8),
 (1,3,9),
 (1,4,10),
 (1,4,11),
 (1,4,12),
 (1,5,13),
 (1,5,14),
 (1,5,15),
 (1,6,16),
 (1,6,17),
 (1,6,18),
 (1,7,19),
 (1,7,20),
 (1,7,21),
 (1,8,22),
 (1,8,23),
 (1,8,24),
 (1,9,25),
 (1,9,26),
 (2,1,1),
 (2,1,2),
 (2,1,3),
 (2,1,4),
 (2,2,5),
 (2,2,6),
 (2,2,7),
 (2,2,8),
 (2,3,9),
 (2,3,10),
 (2,3,11),
 (2,3,12),
 (2,4,13),
 (2,4,14),
 (2,4,15),
 (2,4,16),
 (2,5,17),
 (2,5,18),
 (2,5,19),
 (2,5,20),
 (2,6,21),
 (2,6,22),
 (2,6,23),
 (2,6,24),
 (2,7,25),
 (2,7,26),
 (3,1,1),
 (3,1,2),
 (3,1,3),
 (3,1,4),
 (3,1,5),
 (3,1,6),
 (3,1,7),
 (3,1,8),
 (3,1,9),
 (3,1,10),
 (3,1,11),
 (3,1,12),
 (3,1,13),
 (3,2,14),
 (3,2,15),
 (3,2,16),
 (3,2,17),
 (3,2,18),
 (3,2,19),
 (3,2,20),
 (3,2,21),
 (3,2,22),
 (3,2,23),
 (3,2,24),
 (3,2,25),
 (3,2,26),
 (4,1,1),
 (4,1,2),
 (4,1,3),
 (4,2,4),
 (4,2,5),
 (4,2,6),
 (4,3,7),
 (4,3,8),
 (4,3,9),
 (4,4,10),
 (4,4,11),
 (4,4,12),
 (4,5,13),
 (4,5,14),
 (4,5,15),
 (4,6,16),
 (4,6,17),
 (4,6,18),
 (4,7,19),
 (4,7,20),
 (4,7,21),
 (4,8,22),
 (4,8,23),
 (4,8,24),
 (4,9,25),
 (4,9,26),
 (5,1,1),
 (5,1,2),
 (5,1,3),
 (5,1,4),
 (5,2,5),
 (5,2,6),
 (5,2,7),
 (5,2,8),
 (5,3,9),
 (5,3,10),
 (5,3,11),
 (5,3,12),
 (5,4,13),
 (5,4,14),
 (5,4,15),
 (5,4,16),
 (5,5,17),
 (5,5,18),
 (5,5,19),
 (5,5,20),
 (5,6,21),
 (5,6,22),
 (5,6,23),
 (5,6,24),
 (5,7,25),
 (5,7,26),
 (6,1,1),
 (6,1,2),
 (6,1,3),
 (6,1,4),
 (6,1,5),
 (6,1,6),
 (6,1,7),
 (6,1,8),
 (6,1,9),
 (6,1,10),
 (6,1,11),
 (6,1,12),
 (6,1,13),
 (6,2,14),
 (6,2,15),
 (6,2,16),
 (6,2,17),
 (6,2,18),
 (6,2,19),
 (6,2,20),
 (6,2,21),
 (6,2,22),
 (6,2,23),
 (6,2,24),
 (6,2,25),
 (6,2,26);
 
insert into student (id, name) values 
( 1, 'student_1'),
( 2, 'student_2'),
( 3, 'student_3'),
( 4, 'student_4'),
( 5, 'student_5'),
( 6, 'student_6'),
( 7, 'student_7'),
( 8, 'student_8'),
( 9, 'student_9'),
( 10, 'student_10'),
( 11, 'student_11'),
( 12, 'student_12'),
( 13, 'student_13'),
( 14, 'student_14'),
( 15, 'student_15'),
( 16, 'student_16'),
( 17, 'student_17'),
( 18, 'student_18'),
( 19, 'student_19'),
( 20, 'student_20'),
( 21, 'student_21'),
( 22, 'student_22'),
( 23, 'student_23'),
( 24, 'student_24'),
( 25, 'student_25'),
( 26, 'student_26'),
( 27, 'student_27'),
( 28, 'student_28'),
( 29, 'student_29'),
( 30, 'student_30'),
( 31, 'student_31'),
( 32, 'student_32'),
( 33, 'student_33'),
( 34, 'student_34'),
( 35, 'student_35'),
( 36, 'student_36'),
( 37, 'student_37'),
( 38, 'student_38'),
( 39, 'student_39'),
( 40, 'student_40'),
( 41, 'student_41'),
( 42, 'student_42'),
( 43, 'student_43'),
( 44, 'student_44'),
( 45, 'student_45'),
( 46, 'student_46'),
( 47, 'student_47'),
( 48, 'student_48'),
( 49, 'student_49'),
( 50, 'student_50'),
( 51, 'student_51'),
( 52, 'student_52'),
( 53, 'student_53'),
( 54, 'student_54'),
( 55, 'student_55'),
( 56, 'student_56'),
( 57, 'student_57'),
( 58, 'student_58'),
( 59, 'student_59'),
( 60, 'student_60'),
( 61, 'student_61'),
( 62, 'student_62'),
( 63, 'student_63'),
( 64, 'student_64'),
( 65, 'student_65'),
( 66, 'student_66'),
( 67, 'student_67'),
( 68, 'student_68'),
( 69, 'student_69'),
( 70, 'student_70'),
( 71, 'student_71'),
( 72, 'student_72'),
( 73, 'student_73'),
( 74, 'student_74'),
( 75, 'student_75'),
( 76, 'student_76'),
( 77, 'student_77'),
( 78, 'student_78'),
( 79, 'student_79'),
( 80, 'student_80'),
( 81, 'student_81'),
( 82, 'student_82'),
( 83, 'student_83'),
( 84, 'student_84'),
( 85, 'student_85'),
( 86, 'student_86'),
( 87, 'student_87'),
( 88, 'student_88'),
( 89, 'student_89'),
( 90, 'student_90'),
( 91, 'student_91'),
( 92, 'student_92'),
( 93, 'student_93'),
( 94, 'student_94');

--
--
--

select c.id course, c.abbrev, c.title, s.id section, s.title, s.start from course c inner join section s on (s.course_id = c.id) order by c.id, s.id;


select c.id course, c.abbrev, c.title, s.id section, s.title, s.start, e.id eval, e.title, e.end_date from section s inner join eval_section es on (es.section_id = s.id) inner join eval e on (e.id = es.eval_id) inner join course c on (c.id = s.course_id) order by c.id, s.id, e.id;

